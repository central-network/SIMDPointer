<meta charset="utf8" />
 <script type="importmap">{ 
    "imports": { 
        "LocalSharedMemory": "./node_modules/localsharedmemory/index.js", 
        "BigVec": "./node_modules/bigvec/index.js"
    }}
</script>

<script>
    let line = 0;
    self.console.debug = function (a) {
        document.body.insertAdjacentHTML("beforeend", `<pre style="color: green; font-size: 12px; margin: 3px 14px;">debug(${++line}): ${[...arguments].map(v => v.message || JSON.stringify(v, null, 2))}</pre>`)
    }
</script>

<script type="module">
    import SIMD, {prototypes, constructors, strtoconst, extern} from "./index.js"
    console.log({SIMD}, extern)

    requestIdleCallback(async () => {
        console.log("\n".repeat(2))
        const a = e => 1;
        const d = async e => 1;
        

        const values = [self, window, location]; //[ 2, "özgür", new Date(), location, new Array(2).fill().map(Math.random), alert, console.log, function b() { return 2; }, async d2 => 2, async () => {}, async function df () {}, d, Array(2).values() ];

        values.forEach( v => {
            const n = SIMD.encode(v);
            console.log(n)
        })

        requestIdleCallback(() => {
            console.log("\n".repeat(2))
            console.log(prototypes)
            
            for (const proto of prototypes) {
                const name = proto.name || proto[Symbol.toStringTag] || proto.constructor?.name || (proto === Object.prototype && "Object" || "");
    
                console.log(name, strtoconst(name, "", "_object"))
            }
        })
    })

    


</script>